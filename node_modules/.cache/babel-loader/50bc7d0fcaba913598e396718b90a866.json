{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John Geliberte\\\\Work\\\\freelance\\\\m1\\\\src\\\\components\\\\Navigation\\\\components\\\\ContactFormModal.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport styled from \"styled-components\";\nimport * as EmailValidator from \"email-validator\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Select from \"@material-ui/core/Select\";\nimport { SENDEMAILCONTACT } from \"../../../graphQL/useMutationSendEmailContact\";\n\nconst M1neralLogo = props => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 11320 2490\",\n  className: props.className,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#12ABE0\",\n  d: \"M1396 1823c-201 202-528 202-729 0-15-15-30-31-43-48l-366 366c14 16 29 31 44 47 403 402 1056 402 1459 0 356-356 397-908 124-1309l-379 378c80 188 43 413-110 566zm-839-163c-80-188-43-413 110-566 201-201 528-201 729 0 16 15 30 32 43 48l366-366c-14-16-29-31-44-47L1032 0 302 729c-356 356-397 908-124 1309l379-378zm292-384c101-100 264-100 365 0 101 101 101 264 0 365s-264 101-365 0c-100-101-100-264 0-365z\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(2687 379)\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#12ABE0\",\n  d: \"M2703 1686L2703 64 2703 0 2505 64 2072 202 2132 432 2422 351 2422 1686z\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"black\",\n  d: \"M8354 6L8354 1686 8633 1686 8633 6z\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"black\",\n  d: \"M1324 699c156 0 246 103 246 297v690h279V911c0-297-161-465-426-465-184 0-313 85-412 214-65-129-187-214-362-214-186 0-292 101-370 209V471H0v1215h279v-683c0-189 106-304 260-304s246 106 246 295v692h279v-686c0-195 108-301 260-301zM3099 471v1215h278v-686c0-188 113-301 274-301 166 0 260 108 260 297v690h279V913c0-283-159-467-433-467-189 0-301 99-380 214V471h-278zM5053 446c-347 0-594 285-594 633v4c0 376 272 631 624 631 223 0 382-90 497-228l-163-145c-97 95-194 145-329 145-180 0-320-110-350-308h893c2-28 5-53 5-79 0-349-196-653-583-653zm306 548h-624c26-189 145-320 316-320 184 0 290 140 308 320zM5916 471v1215h279v-462c0-323 170-481 414-481h16V448c-214-9-354 115-430 297V471h-279zM6759 1086c0 345 274 628 644 628 142 0 269-41 373-110v110h279V446h-279v107c-102-68-228-107-368-107-373 0-649 287-649 635v5zm649 386c-216 0-371-179-371-391v-5c0-211 143-386 366-386 219 0 373 177 373 391v5c0 209-142 386-368 386z\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }\n}))));\n\nconst M1neralLogoStyled = styled(M1neralLogo)`\n  width: 150px;\n  margin: auto;\n  vertical-align: middle;\n`;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"&  .MuiPaper-root\": {\n      maxWidth: \"400px\",\n      padding: \"25px\"\n    }\n  },\n  dialogTitle: {\n    textAlign: \"center\"\n  },\n  dialogContentText: {\n    textAlign: \"center\"\n  },\n  inputField: {\n    marginBottom: \"15px\"\n  },\n  progress: {\n    marginLeft: \"30px\",\n    verticalAlign: \"middle\"\n  },\n  dialogFooter: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  label: {\n    backgroundColor: \"white\"\n  }\n}));\nlet initialErrors = {\n  name: false,\n  email: false,\n  category: false,\n  comment: false\n};\n\nfunction ContactFormModal(props) {\n  const classes = useStyles();\n  const {\n    open,\n    onClose\n  } = props;\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [category, setCategory] = useState(\"issue\");\n  const [comment, setComment] = useState(\"\");\n  const [sendEmailContact, {\n    called,\n    loading,\n    data\n  }] = useMutation(SENDEMAILCONTACT);\n  const [errors, setErrors] = useState({ ...initialErrors\n  });\n  const sendEmailStatus = data ? data.sendEmailContact : null;\n\n  const clearFields = () => {\n    setName(\"\");\n    setEmail(\"\");\n    setComment(\"\");\n    setCategory(\"issue\");\n  };\n\n  const updateErrors = () => {\n    let nameErr = false;\n    let categoryErr = false;\n    let commentErr = false;\n    let emailErr = false;\n    if (!name || name.length === 0) nameErr = true;\n    if (!email || email.length === 0 || !EmailValidator.validate(email)) emailErr = true;\n    if (!category || category.length === 0) categoryErr = true;\n    if (!comment || comment.length === 0) commentErr = true;\n    setErrors({\n      name: nameErr,\n      category: categoryErr,\n      email: emailErr,\n      comment: commentErr\n    });\n    return nameErr || emailErr || categoryErr || commentErr;\n  };\n\n  const sendMail = async () => {\n    if (updateErrors()) return;\n    sendEmailContact({\n      variables: {\n        email: {\n          name,\n          email,\n          category,\n          comment\n        }\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (called && !loading && sendEmailStatus.success === true) {\n      clearFields();\n    }\n  }, [called, loading, sendEmailStatus]);\n  const categoryName = category.slice(0, 1).toUpperCase() + category.slice(1, category.length);\n  return /*#__PURE__*/React.createElement(Dialog, {\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    onClose: onClose,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"simple-dialog-title\",\n    className: classes.dialogTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(M1neralLogoStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    className: classes.dialogContentText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, \"How can we help you today?\"), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    autoFocus: true,\n    id: \"name\",\n    label: \"Your Name\",\n    size: \"small\",\n    type: \"text\",\n    fullWidth: true,\n    className: classes.inputField,\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n      updateErrors();\n    },\n    disabled: loading,\n    error: errors.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"email\",\n    size: \"small\",\n    label: \"Your email address\",\n    type: \"email\",\n    fullWidth: true,\n    className: classes.inputField,\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n      updateErrors();\n    },\n    disabled: loading,\n    error: errors.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    fullWidth: true,\n    className: classes.inputField,\n    size: \"small\",\n    error: errors.category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"demo-simple-select-outlined-label\",\n    className: classes.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, \"Select a category\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined-label\",\n    id: \"demo-simple-select-outlined\",\n    value: category,\n    onChange: e => {\n      setCategory(e.target.value);\n      updateErrors();\n    },\n    fullWidth: true // label=\"Select a category\"\n    ,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"issue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, \"Submit an issue\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"request\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, \"Functionality request\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, \"General feedback\"))), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    multiline: true,\n    rows: 4,\n    id: \"comment\",\n    label: \"Leave us your comment...\",\n    type: \"text\",\n    size: \"small\",\n    fullWidth: true,\n    className: classes.inputField,\n    value: comment,\n    onChange: e => {\n      setComment(e.target.value);\n      updateErrors();\n    },\n    disabled: loading,\n    error: errors.comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.dialogFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"large\",\n    disableElevation: true,\n    onClick: sendMail,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, \"Send\"), loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"secondary\",\n    className: classes.progress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }) : called && !loading ? sendEmailStatus.success ? /*#__PURE__*/React.createElement(Typography, {\n    color: \"secondary\",\n    variant: \"subtitle2\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, categoryName, \" submitted successfully\") : /*#__PURE__*/React.createElement(Typography, {\n    color: \"primary\",\n    variant: \"subtitle2\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }, \"Unable to submit \", category, \".\") : null)));\n}\n\nexport default ContactFormModal;","map":{"version":3,"sources":["C:/Users/John Geliberte/Work/freelance/m1/src/components/Navigation/components/ContactFormModal.js"],"names":["React","useState","useEffect","useCallback","useMutation","useLazyQuery","styled","EmailValidator","makeStyles","Button","TextField","DialogTitle","DialogContent","DialogContentText","Dialog","FormControl","InputLabel","CircularProgress","MenuItem","Typography","Select","SENDEMAILCONTACT","M1neralLogo","props","className","M1neralLogoStyled","useStyles","theme","root","maxWidth","padding","dialogTitle","textAlign","dialogContentText","inputField","marginBottom","progress","marginLeft","verticalAlign","dialogFooter","display","justifyContent","label","backgroundColor","initialErrors","name","email","category","comment","ContactFormModal","classes","open","onClose","setName","setEmail","setCategory","setComment","sendEmailContact","called","loading","data","errors","setErrors","sendEmailStatus","clearFields","updateErrors","nameErr","categoryErr","commentErr","emailErr","length","validate","sendMail","variables","success","categoryName","slice","toUpperCase","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport styled from \"styled-components\";\r\nimport * as EmailValidator from \"email-validator\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { SENDEMAILCONTACT } from \"../../../graphQL/useMutationSendEmailContact\";\r\n\r\nconst M1neralLogo = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 11320 2490\"\r\n    className={props.className}\r\n  >\r\n    <g fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth=\"1\">\r\n      <path\r\n        fill=\"#12ABE0\"\r\n        d=\"M1396 1823c-201 202-528 202-729 0-15-15-30-31-43-48l-366 366c14 16 29 31 44 47 403 402 1056 402 1459 0 356-356 397-908 124-1309l-379 378c80 188 43 413-110 566zm-839-163c-80-188-43-413 110-566 201-201 528-201 729 0 16 15 30 32 43 48l366-366c-14-16-29-31-44-47L1032 0 302 729c-356 356-397 908-124 1309l379-378zm292-384c101-100 264-100 365 0 101 101 101 264 0 365s-264 101-365 0c-100-101-100-264 0-365z\"\r\n      ></path>\r\n      <g transform=\"translate(2687 379)\">\r\n        <path\r\n          fill=\"#12ABE0\"\r\n          d=\"M2703 1686L2703 64 2703 0 2505 64 2072 202 2132 432 2422 351 2422 1686z\"\r\n        ></path>\r\n        <path fill=\"black\" d=\"M8354 6L8354 1686 8633 1686 8633 6z\"></path>\r\n        <path\r\n          fill=\"black\"\r\n          d=\"M1324 699c156 0 246 103 246 297v690h279V911c0-297-161-465-426-465-184 0-313 85-412 214-65-129-187-214-362-214-186 0-292 101-370 209V471H0v1215h279v-683c0-189 106-304 260-304s246 106 246 295v692h279v-686c0-195 108-301 260-301zM3099 471v1215h278v-686c0-188 113-301 274-301 166 0 260 108 260 297v690h279V913c0-283-159-467-433-467-189 0-301 99-380 214V471h-278zM5053 446c-347 0-594 285-594 633v4c0 376 272 631 624 631 223 0 382-90 497-228l-163-145c-97 95-194 145-329 145-180 0-320-110-350-308h893c2-28 5-53 5-79 0-349-196-653-583-653zm306 548h-624c26-189 145-320 316-320 184 0 290 140 308 320zM5916 471v1215h279v-462c0-323 170-481 414-481h16V448c-214-9-354 115-430 297V471h-279zM6759 1086c0 345 274 628 644 628 142 0 269-41 373-110v110h279V446h-279v107c-102-68-228-107-368-107-373 0-649 287-649 635v5zm649 386c-216 0-371-179-371-391v-5c0-211 143-386 366-386 219 0 373 177 373 391v5c0 209-142 386-368 386z\"\r\n        ></path>\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nconst M1neralLogoStyled = styled(M1neralLogo)`\r\n  width: 150px;\r\n  margin: auto;\r\n  vertical-align: middle;\r\n`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"&  .MuiPaper-root\": {\r\n      maxWidth: \"400px\",\r\n      padding: \"25px\",\r\n    },\r\n  },\r\n  dialogTitle: {\r\n    textAlign: \"center\",\r\n  },\r\n  dialogContentText: {\r\n    textAlign: \"center\",\r\n  },\r\n  inputField: {\r\n    marginBottom: \"15px\",\r\n  },\r\n  progress: {\r\n    marginLeft: \"30px\",\r\n    verticalAlign: \"middle\",\r\n  },\r\n  dialogFooter: { display: \"flex\", justifyContent: \"space-between\" },\r\n\r\n  label: {\r\n    backgroundColor: \"white\",\r\n  },\r\n}));\r\n\r\nlet initialErrors = {\r\n  name: false,\r\n  email: false,\r\n  category: false,\r\n  comment: false,\r\n};\r\n\r\nfunction ContactFormModal(props) {\r\n  const classes = useStyles();\r\n  const { open, onClose } = props;\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [category, setCategory] = useState(\"issue\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [sendEmailContact, { called, loading, data }] = useMutation(\r\n    SENDEMAILCONTACT\r\n  );\r\n  const [errors, setErrors] = useState({ ...initialErrors });\r\n\r\n  const sendEmailStatus = data ? data.sendEmailContact : null;\r\n\r\n  const clearFields = () => {\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setComment(\"\");\r\n    setCategory(\"issue\");\r\n  };\r\n\r\n  const updateErrors = () => {\r\n    let nameErr = false;\r\n    let categoryErr = false;\r\n    let commentErr = false;\r\n    let emailErr = false;\r\n    if (!name || name.length === 0) nameErr = true;\r\n    if (!email || email.length === 0 || !EmailValidator.validate(email))\r\n      emailErr = true;\r\n    if (!category || category.length === 0) categoryErr = true;\r\n    if (!comment || comment.length === 0) commentErr = true;\r\n    setErrors({\r\n      name: nameErr,\r\n      category: categoryErr,\r\n      email: emailErr,\r\n      comment: commentErr,\r\n    });\r\n    return nameErr || emailErr || categoryErr || commentErr;\r\n  };\r\n\r\n  const sendMail = async () => {\r\n    if (updateErrors()) return;\r\n\r\n    sendEmailContact({\r\n      variables: {\r\n        email: {\r\n          name,\r\n          email,\r\n          category,\r\n          comment,\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (called && !loading && sendEmailStatus.success === true) {\r\n      clearFields();\r\n    }\r\n  }, [called, loading, sendEmailStatus]);\r\n\r\n  const categoryName =\r\n    category.slice(0, 1).toUpperCase() + category.slice(1, category.length);\r\n\r\n  return (\r\n    <Dialog\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n      onClose={onClose}\r\n      className={classes.root}\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\" className={classes.dialogTitle}>\r\n        <M1neralLogoStyled />\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText className={classes.dialogContentText}>\r\n          How can we help you today?\r\n        </DialogContentText>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          autoFocus\r\n          id=\"name\"\r\n          label=\"Your Name\"\r\n          size=\"small\"\r\n          type=\"text\"\r\n          fullWidth\r\n          className={classes.inputField}\r\n          value={name}\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n            updateErrors();\r\n          }}\r\n          disabled={loading}\r\n          error={errors.name}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          id=\"email\"\r\n          size=\"small\"\r\n          label=\"Your email address\"\r\n          type=\"email\"\r\n          fullWidth\r\n          className={classes.inputField}\r\n          value={email}\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n            updateErrors();\r\n          }}\r\n          disabled={loading}\r\n          error={errors.email}\r\n        />\r\n\r\n        <FormControl\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          className={classes.inputField}\r\n          size=\"small\"\r\n          error={errors.category}\r\n        >\r\n          <InputLabel\r\n            id=\"demo-simple-select-outlined-label\"\r\n            className={classes.label}\r\n          >\r\n            Select a category\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={category}\r\n            onChange={(e) => {\r\n              setCategory(e.target.value);\r\n              updateErrors();\r\n            }}\r\n            fullWidth\r\n            // label=\"Select a category\"\r\n            disabled={loading}\r\n          >\r\n            <MenuItem value={\"issue\"}>Submit an issue</MenuItem>\r\n            <MenuItem value={\"request\"}>Functionality request</MenuItem>\r\n            <MenuItem value={\"feedback\"}>General feedback</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <TextField\r\n          variant=\"outlined\"\r\n          multiline\r\n          rows={4}\r\n          id=\"comment\"\r\n          label=\"Leave us your comment...\"\r\n          type=\"text\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className={classes.inputField}\r\n          value={comment}\r\n          onChange={(e) => {\r\n            setComment(e.target.value);\r\n            updateErrors();\r\n          }}\r\n          disabled={loading}\r\n          error={errors.comment}\r\n        />\r\n\r\n        <div className={classes.dialogFooter}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"large\"\r\n            disableElevation\r\n            onClick={sendMail}\r\n            disabled={loading}\r\n          >\r\n            Send\r\n          </Button>\r\n          {loading ? (\r\n            <CircularProgress color=\"secondary\" className={classes.progress} />\r\n          ) : called && !loading ? (\r\n            sendEmailStatus.success ? (\r\n              <Typography color=\"secondary\" variant=\"subtitle2\" gutterBottom>\r\n                {categoryName} submitted successfully\r\n              </Typography>\r\n            ) : (\r\n              <Typography color=\"primary\" variant=\"subtitle2\" gutterBottom>\r\n                Unable to submit {category}.\r\n              </Typography>\r\n            )\r\n          ) : null}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default ContactFormModal;\r\n"]},"metadata":{},"sourceType":"module"}