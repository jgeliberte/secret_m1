{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John Geliberte\\\\Work\\\\freelance\\\\m1\\\\src\\\\AppContext.js\";\nimport React, { useState, createContext, useEffect } from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { MSALObj, tenantsCredentials } from \"./components/Login/AADAuthConfig\";\nimport { styleLayers, userDefinedLayers, heatLayers, baseMapLayers } from \"./LayerConfig\";\nconst AppContext = createContext([{}, () => {}]);\n\nconst AppProvider = props => {\n  const [stateApp, setStateApp] = useState({\n    myMSALObj: null,\n    selectedRoute: \"/\",\n    apolloClientEndpoint: // \"https://m1graphql.azurewebsites.net/api/m1neral?code=kNAzP9HYSsEwdWhlLa55AIGeKj2iiFFOpXaTMRh9IuTODWpNobIX3g==\",\n    \"http://localhost:7071/api/m1graph\",\n    user: null,\n    signUpUserType: null,\n    wellCount: 500,\n    wells: null,\n    trackedwells: null,\n    trackedOwnerWells: null,\n    selectedWell: null,\n    selectedWellId: null,\n    customLayers: [],\n    editDraw: false,\n    editLayer: true,\n    selectedOwner: null,\n    owners: null,\n    popupOpen: false,\n    //map used in flyto\n    expandedCard: false,\n    flyTo: null,\n    //map used in flyto\n    fitBounds: null,\n    //map used in fitBounds\n    selectedTitleOpinionId: null,\n    selectedUserDefinedLayer: null,\n    featureOrMapShape: {},\n    filters: [],\n    filtersMockDb: null,\n    filtersAdd: null,\n    filtersOnOff: null,\n    filtersDefaultOnoff: null,\n    selectedContact: null,\n    trackFilterOn: null,\n    trackedWellArray: [],\n    userSnap: false,\n    mapVars: {\n      zoom: 4.88,\n      center: {\n        lng: -98.8,\n        lat: 38\n      },\n      pitch: 0,\n      bearing: 0,\n      styleId: \"Outdoors\"\n    },\n    // layerData: {\n    //   trackedWellsWells: null,\n    //   trackedOwnerWells: null,\n    //   taggedWells: null,\n    // },\n    wellSelectedCoordinates: [],\n    universalCircularLoaderAct: false,\n    //// set it to true to show a loader in the center of the viewport\n    mapGridCardActivated: false,\n    searchResultData: [],\n    //// mapGridCard Search Data\n    searchloading: false,\n    //// mapGridCard Search loading\n    viewportData: [],\n    //// mapGridCard Viewport Data\n    trackedDataCount: 0,\n    //// mapGridCard Viewport tracked count\n    //Map State\n    mapCircularLoaderAct: false,\n    mapboxglAccessToken: \"pk.eyJ1IjoibTFuZXJhbCIsImEiOiJjanYycGJxbG8yN3JsM3lsYTdnMXZoeHh1In0.tTNECYKDPtcrzivWTiZcIQ\",\n    selectedWellApi: null,\n    styleLayers: styleLayers,\n    heatLayers: heatLayers,\n    baseMapLayers: baseMapLayers,\n    userDefinedLayers: userDefinedLayers,\n    tempCheckedLayer: null,\n    checkedLayers: [2, 5],\n    checkedHeats: [],\n    checkedBaseLayers: [0, 1, 2, 3, 4, 5],\n    checkedUserDefinedLayers: [0, 2],\n    userFileLayers: [],\n    tempCheckedUserDefinedLayer: null,\n    checkedUserDefinedLayersInteraction: [0, 1, 2, 3, 4, 5, 6],\n    editingUserDefinedLayers: [],\n    csvContactsList: [],\n    csvContactsListToSend: [],\n    activeStepNumber: 0,\n    checkedLayersInteraction: [0, 1, 2],\n    selectedLayerId: null,\n    openWellDetails: false,\n    sourceLoaded: false,\n    toggle3d: null,\n    toggleZoomOut: null,\n    map: null,\n    draw: null,\n    currentFeature: undefined,\n    wellListFromSearch: null,\n    wellListFromTagsFilter: null,\n    m1neralHeaders: [],\n    mappedHeadersFromCSV: [],\n    activateLayers: (layerContainerVarName, layerNumber) => {\n      let added = false;\n      setStateApp(stateApp => {\n        const currentIndex = stateApp[layerContainerVarName].indexOf(layerNumber);\n        const newChecked = [...stateApp[layerContainerVarName]];\n\n        if (currentIndex === -1) {\n          newChecked.push(layerNumber);\n          added = true;\n        }\n\n        return { ...stateApp,\n          [layerContainerVarName]: newChecked,\n          popupOpen: false,\n          selectedWell: null,\n          mapCircularLoaderAct: false\n        };\n      });\n      return added;\n    },\n    deactivateLayers: (layerContainerVarName, layerNumber) => {\n      let deleted = false;\n      setStateApp(stateApp => {\n        const currentIndex = stateApp[layerContainerVarName].indexOf(layerNumber);\n        const newChecked = [...stateApp[layerContainerVarName]];\n\n        if (currentIndex !== -1) {\n          newChecked.splice(currentIndex, 1);\n          deleted = true;\n        }\n\n        return { ...stateApp,\n          [layerContainerVarName]: newChecked,\n          popupOpen: false,\n          selectedWell: null,\n          mapCircularLoaderAct: false\n        };\n      });\n      return deleted;\n    },\n    activateUserDefinedLayers: layerNumber => {\n      return stateApp.activateLayers(\"checkedUserDefinedLayers\", layerNumber);\n    },\n    deactivateUserDefinedLayers: layerNumber => {\n      return stateApp.deactivateLayers(\"checkedUserDefinedLayers\", layerNumber);\n    },\n    activateWellLayer: () => {\n      return stateApp.activateLayers(\"checkedLayers\", 2);\n    },\n    deactivateWellLayer: () => {\n      return stateApp.deactivateLayers(\"checkedLayers\", 0);\n    }\n  });\n  useEffect(() => {\n    async function wait() {\n      let tenantName = window.sessionStorage.getItem(\"tenantName\");\n\n      if (tenantName) {\n        let tenant = tenantsCredentials(tenantName);\n        let myMSALObjInt = MSALObj(tenant.tenantId, tenant.clientId);\n        setStateApp({ ...stateApp,\n          myMSALObj: myMSALObjInt,\n          apolloClientEndpoint: tenant.apolloClientEndpoint\n        });\n      } else {\n        setStateApp({ ...stateApp,\n          myMSALObj: false\n        });\n      }\n    }\n\n    wait();\n  }, []);\n  useEffect(() => {\n    if (stateApp.checkedUserDefinedLayers && stateApp.checkedUserDefinedLayers.indexOf(4) === -1 && stateApp.checkedUserDefinedLayers.indexOf(3) === -1 && stateApp.checkedLayers.indexOf(2) === -1) {\n      stateApp.activateWellLayer();\n    }\n  }, [stateApp.checkedUserDefinedLayers]);\n  useEffect(() => {\n    setStateApp(state => ({ ...state,\n      trackedDataCount: (!stateApp.owners || !stateApp.owners.length ? 0 : stateApp.owners.length) + (!stateApp.trackedwells || !stateApp.trackedwells.length ? 0 : stateApp.trackedwells.length)\n    }));\n  }, [stateApp.owners, stateApp.trackedwells]);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: [stateApp, setStateApp],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, props.children, stateApp.universalCircularLoaderAct && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: \"0\",\n      left: \"0\",\n      height: \"100vh\",\n      width: \"100vw\",\n      zIndex: \"100000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    style: {\n      position: \"fixed\",\n      top: \"calc(50vh - 16px)\",\n      left: \"calc(50vw - 40px)\",\n      color: \"#12ABE0\"\n    },\n    size: 80,\n    disableShrink: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport { AppContext, AppProvider };","map":{"version":3,"sources":["C:/Users/John Geliberte/Work/freelance/m1/src/AppContext.js"],"names":["React","useState","createContext","useEffect","CircularProgress","MSALObj","tenantsCredentials","styleLayers","userDefinedLayers","heatLayers","baseMapLayers","AppContext","AppProvider","props","stateApp","setStateApp","myMSALObj","selectedRoute","apolloClientEndpoint","user","signUpUserType","wellCount","wells","trackedwells","trackedOwnerWells","selectedWell","selectedWellId","customLayers","editDraw","editLayer","selectedOwner","owners","popupOpen","expandedCard","flyTo","fitBounds","selectedTitleOpinionId","selectedUserDefinedLayer","featureOrMapShape","filters","filtersMockDb","filtersAdd","filtersOnOff","filtersDefaultOnoff","selectedContact","trackFilterOn","trackedWellArray","userSnap","mapVars","zoom","center","lng","lat","pitch","bearing","styleId","wellSelectedCoordinates","universalCircularLoaderAct","mapGridCardActivated","searchResultData","searchloading","viewportData","trackedDataCount","mapCircularLoaderAct","mapboxglAccessToken","selectedWellApi","tempCheckedLayer","checkedLayers","checkedHeats","checkedBaseLayers","checkedUserDefinedLayers","userFileLayers","tempCheckedUserDefinedLayer","checkedUserDefinedLayersInteraction","editingUserDefinedLayers","csvContactsList","csvContactsListToSend","activeStepNumber","checkedLayersInteraction","selectedLayerId","openWellDetails","sourceLoaded","toggle3d","toggleZoomOut","map","draw","currentFeature","undefined","wellListFromSearch","wellListFromTagsFilter","m1neralHeaders","mappedHeadersFromCSV","activateLayers","layerContainerVarName","layerNumber","added","currentIndex","indexOf","newChecked","push","deactivateLayers","deleted","splice","activateUserDefinedLayers","deactivateUserDefinedLayers","activateWellLayer","deactivateWellLayer","wait","tenantName","window","sessionStorage","getItem","tenant","myMSALObjInt","tenantId","clientId","state","length","children","position","top","left","height","width","zIndex","color"],"mappings":"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","sourcesContent":["import React, { useState, createContext, useEffect } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { MSALObj, tenantsCredentials } from \"./components/Login/AADAuthConfig\";\r\nimport {\r\n  styleLayers,\r\n  userDefinedLayers,\r\n  heatLayers,\r\n  baseMapLayers,\r\n} from \"./LayerConfig\";\r\n\r\nconst AppContext = createContext([{}, () => {}]);\r\n\r\nconst AppProvider = (props) => {\r\n  const [stateApp, setStateApp] = useState({\r\n    myMSALObj: null,\r\n    selectedRoute: \"/\",\r\n    apolloClientEndpoint:\r\n      // \"https://m1graphql.azurewebsites.net/api/m1neral?code=kNAzP9HYSsEwdWhlLa55AIGeKj2iiFFOpXaTMRh9IuTODWpNobIX3g==\",\r\n    \"http://localhost:7071/api/m1graph\",\r\n    user: null,\r\n    signUpUserType: null,\r\n    wellCount: 500,\r\n    wells: null,\r\n    trackedwells: null,\r\n    trackedOwnerWells: null,\r\n    selectedWell: null,\r\n    selectedWellId: null,\r\n    customLayers: [],\r\n    editDraw: false,\r\n    editLayer: true,\r\n    selectedOwner: null,\r\n    owners: null,\r\n    popupOpen: false, //map used in flyto\r\n    expandedCard: false,\r\n    flyTo: null, //map used in flyto\r\n    fitBounds: null, //map used in fitBounds\r\n    selectedTitleOpinionId: null,\r\n    selectedUserDefinedLayer: null,\r\n    featureOrMapShape: {},\r\n    filters: [],\r\n    filtersMockDb: null,\r\n    filtersAdd: null,\r\n    filtersOnOff: null,\r\n    filtersDefaultOnoff: null,\r\n    selectedContact: null,\r\n    trackFilterOn: null,\r\n    trackedWellArray: [],\r\n    userSnap: false,\r\n    mapVars: {\r\n      zoom: 4.88,\r\n      center: { lng: -98.8, lat: 38 },\r\n      pitch: 0,\r\n      bearing: 0,\r\n      styleId: \"Outdoors\",\r\n    },\r\n    // layerData: {\r\n    //   trackedWellsWells: null,\r\n    //   trackedOwnerWells: null,\r\n    //   taggedWells: null,\r\n    // },\r\n    wellSelectedCoordinates: [],\r\n    universalCircularLoaderAct: false, //// set it to true to show a loader in the center of the viewport\r\n    mapGridCardActivated: false,\r\n    searchResultData: [], //// mapGridCard Search Data\r\n    searchloading: false, //// mapGridCard Search loading\r\n    viewportData: [], //// mapGridCard Viewport Data\r\n    trackedDataCount: 0, //// mapGridCard Viewport tracked count\r\n\r\n    //Map State\r\n    mapCircularLoaderAct: false,\r\n    mapboxglAccessToken:\r\n      \"pk.eyJ1IjoibTFuZXJhbCIsImEiOiJjanYycGJxbG8yN3JsM3lsYTdnMXZoeHh1In0.tTNECYKDPtcrzivWTiZcIQ\",\r\n    selectedWellApi: null,\r\n    styleLayers: styleLayers,\r\n    heatLayers: heatLayers,\r\n    baseMapLayers: baseMapLayers,\r\n    userDefinedLayers: userDefinedLayers,\r\n    tempCheckedLayer: null,\r\n    checkedLayers: [2, 5],\r\n    checkedHeats: [],\r\n    checkedBaseLayers: [0, 1, 2, 3, 4, 5],\r\n    checkedUserDefinedLayers: [0, 2],\r\n    userFileLayers: [],\r\n    tempCheckedUserDefinedLayer: null,\r\n    checkedUserDefinedLayersInteraction: [0, 1, 2, 3, 4, 5, 6],\r\n    editingUserDefinedLayers: [],\r\n    csvContactsList: [],\r\n    csvContactsListToSend: [],\r\n    activeStepNumber: 0,\r\n    checkedLayersInteraction: [0, 1, 2],\r\n    selectedLayerId: null,\r\n    openWellDetails: false,\r\n    sourceLoaded: false,\r\n    toggle3d: null,\r\n    toggleZoomOut: null,\r\n    map: null,\r\n    draw: null,\r\n    currentFeature: undefined,\r\n    wellListFromSearch: null,\r\n    wellListFromTagsFilter: null,\r\n    m1neralHeaders: [],\r\n    mappedHeadersFromCSV: [],\r\n\r\n    activateLayers: (layerContainerVarName, layerNumber) => {\r\n      let added = false;\r\n      setStateApp((stateApp) => {\r\n        const currentIndex = stateApp[layerContainerVarName].indexOf(\r\n          layerNumber\r\n        );\r\n        const newChecked = [...stateApp[layerContainerVarName]];\r\n        if (currentIndex === -1) {\r\n          newChecked.push(layerNumber);\r\n          added = true;\r\n        }\r\n        return {\r\n          ...stateApp,\r\n          [layerContainerVarName]: newChecked,\r\n          popupOpen: false,\r\n          selectedWell: null,\r\n          mapCircularLoaderAct: false,\r\n        };\r\n      });\r\n      return added;\r\n    },\r\n    deactivateLayers: (layerContainerVarName, layerNumber) => {\r\n      let deleted = false;\r\n      setStateApp((stateApp) => {\r\n        const currentIndex = stateApp[layerContainerVarName].indexOf(\r\n          layerNumber\r\n        );\r\n        const newChecked = [...stateApp[layerContainerVarName]];\r\n        if (currentIndex !== -1) {\r\n          newChecked.splice(currentIndex, 1);\r\n          deleted = true;\r\n        }\r\n\r\n        return {\r\n          ...stateApp,\r\n          [layerContainerVarName]: newChecked,\r\n          popupOpen: false,\r\n          selectedWell: null,\r\n          mapCircularLoaderAct: false,\r\n        };\r\n      });\r\n      return deleted;\r\n    },\r\n    activateUserDefinedLayers: (layerNumber) => {\r\n      return stateApp.activateLayers(\"checkedUserDefinedLayers\", layerNumber);\r\n    },\r\n    deactivateUserDefinedLayers: (layerNumber) => {\r\n      return stateApp.deactivateLayers(\"checkedUserDefinedLayers\", layerNumber);\r\n    },\r\n    activateWellLayer: () => {\r\n      return stateApp.activateLayers(\"checkedLayers\", 2);\r\n    },\r\n    deactivateWellLayer: () => {\r\n      return stateApp.deactivateLayers(\"checkedLayers\", 0);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    async function wait() {\r\n      let tenantName = window.sessionStorage.getItem(\"tenantName\");\r\n\r\n      if (tenantName) {\r\n        let tenant = tenantsCredentials(tenantName);\r\n        let myMSALObjInt = MSALObj(tenant.tenantId, tenant.clientId);\r\n        setStateApp({\r\n          ...stateApp,\r\n          myMSALObj: myMSALObjInt,\r\n          apolloClientEndpoint: tenant.apolloClientEndpoint,\r\n        });\r\n      } else {\r\n        setStateApp({ ...stateApp, myMSALObj: false });\r\n      }\r\n    }\r\n    wait();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      stateApp.checkedUserDefinedLayers &&\r\n      stateApp.checkedUserDefinedLayers.indexOf(4) === -1 &&\r\n      stateApp.checkedUserDefinedLayers.indexOf(3) === -1 &&\r\n      stateApp.checkedLayers.indexOf(2) === -1\r\n    ) {\r\n      stateApp.activateWellLayer();\r\n    }\r\n  }, [stateApp.checkedUserDefinedLayers]);\r\n\r\n  useEffect(() => {\r\n    setStateApp((state) => ({\r\n      ...state,\r\n      trackedDataCount:\r\n        (!stateApp.owners || !stateApp.owners.length\r\n          ? 0\r\n          : stateApp.owners.length) +\r\n        (!stateApp.trackedwells || !stateApp.trackedwells.length\r\n          ? 0\r\n          : stateApp.trackedwells.length),\r\n    }));\r\n  }, [stateApp.owners, stateApp.trackedwells]);\r\n\r\n  return (\r\n    <AppContext.Provider value={[stateApp, setStateApp]}>\r\n      {props.children}\r\n      {stateApp.universalCircularLoaderAct && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            height: \"100vh\",\r\n            width: \"100vw\",\r\n            zIndex: \"100000\",\r\n          }}\r\n        >\r\n          <CircularProgress\r\n            style={{\r\n              position: \"fixed\",\r\n              top: \"calc(50vh - 16px)\",\r\n              left: \"calc(50vw - 40px)\",\r\n              color: \"#12ABE0\",\r\n            }}\r\n            size={80}\r\n            disableShrink\r\n          />\r\n        </div>\r\n      )}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n"]},"metadata":{},"sourceType":"module"}