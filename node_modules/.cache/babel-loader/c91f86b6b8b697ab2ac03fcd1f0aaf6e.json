{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John Geliberte\\\\Work\\\\freelance\\\\m1\\\\src\\\\components\\\\Navigation\\\\components\\\\FilterWellAppraisal.js\";\nimport React, { useState, useContext, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport NumberFormat from \"react-number-format\";\nimport { NavigationContext } from \"../NavigationContext\";\nimport { FormLabel } from \"@material-ui/core\";\nconst useStyles = makeStyles({\n  divBordersMinMax: {\n    display: \"flow-root\",\n    padding: \"3.5px 15px 5.5px 15px\",\n    border: \"1px solid #C4C4C4\",\n    borderRadius: \"4px\",\n    \"&:hover\": {\n      border: \"1px solid black\"\n    }\n  },\n  input: {\n    marginLeft: \"30px\",\n    width: \"160px\",\n    // float: \"right\",\n    \"& input\": {\n      color: \"#17AADD\"\n    }\n  },\n  inputLabel: {\n    position: \"relative\",\n    top: \"11.5px\"\n  }\n});\nexport default function FilterWellAppraisal() {\n  const classes = useStyles();\n  const [stateNav, setStateNav] = useContext(NavigationContext);\n  const [valueMinDisplay, setValueMinDisplay] = useState(\"\");\n  const [valueMaxDisplay, setValueMaxDisplay] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [errorText, setErrorText] = useState(\"\");\n  const [appraisalWell, setAppraisalWell] = useState(stateNav.appraisalWell ? stateNav.appraisalWell : []);\n  const setFilter = useCallback(() => {\n    let filter;\n    let min = parseInt(valueMinDisplay);\n    let max = parseInt(valueMaxDisplay);\n    console.log(\"min\", min);\n    console.log(\"max\", max);\n    console.log(!min);\n    console.log(!max);\n    console.log(min < max);\n\n    if (!min && !max) {\n      filter = null;\n    }\n\n    if (!min && max) {\n      filter = [\"all\", [\"<=\", [\"get\", \"appraisalValueSum\"], max]];\n    } else if (min && !max) {\n      filter = [\"all\", [\">=\", [\"get\", \"appraisalValueSum\"], min]];\n    } else if (min && max) {\n      if (min < max) {\n        filter = [\"all\", [\">=\", [\"get\", \"appraisalValueSum\"], min], [\"<=\", [\"get\", \"appraisalValueSum\"], max]];\n      }\n    } else {\n      filter = null;\n    }\n\n    console.log(\"filter\", filter);\n    setStateNav(stateNav => ({ ...stateNav,\n      filterWellAppraisal: filter\n    }));\n  }, [setStateNav, valueMaxDisplay, valueMinDisplay]);\n  useEffect(() => {\n    const recall = () => {\n      let checkStateNav = stateNav.filterWellAppraisal;\n\n      if (!valueMinDisplay && !valueMaxDisplay) {\n        if (checkStateNav && checkStateNav.length === 3) {\n          const recallMin = checkStateNav[1][2];\n          const recallMax = checkStateNav[2][2];\n          setValueMinDisplay(recallMin);\n          setValueMaxDisplay(recallMax);\n        }\n      }\n\n      if (!valueMaxDisplay) {\n        if (checkStateNav && checkStateNav[1][0] === \"<=\") {\n          const recallMax = checkStateNav[1][2];\n          setValueMaxDisplay(recallMax);\n        }\n      }\n\n      if (!valueMinDisplay) {\n        if (checkStateNav && checkStateNav[1][0] === \">=\") {\n          const recallMin = checkStateNav[1][2];\n          setValueMinDisplay(recallMin);\n        }\n      }\n    };\n\n    recall();\n    return () => {\n      recall();\n    };\n  }, [stateNav, valueMaxDisplay, valueMinDisplay]);\n  useEffect(() => {\n    if (stateNav.appraisalWell) {\n      setFilter();\n    }\n  }, [setFilter, stateNav.appraisalWell]);\n\n  const handleChangeMin = event => {\n    console.log(\"handle change min\");\n    setValueMinDisplay(event.target.value.replace(/,/g, \"\"));\n    setAppraisalWell(event.target.id);\n    console.log(event.target.value.replace(/,/g, \"\"));\n    console.log(event.target.id);\n    setStateNav(stateNav => ({ ...stateNav,\n      appraisalWell: event.target.id\n    }));\n\n    if (event.target.value === \"\") {\n      setStateNav(stateNav => ({ ...stateNav,\n        filterWellAppraisal: null\n      }));\n    }\n  };\n\n  const handleChangeMax = event => {\n    setValueMaxDisplay(event.target.value.replace(/,/g, \"\"));\n    setAppraisalWell(event.target.id);\n    setStateNav(stateNav => ({ ...stateNav,\n      appraisalWell: event.target.id\n    }));\n\n    if (event.target.value === \"\") {\n      setStateNav(stateNav => ({ ...stateNav,\n        filterWellAppraisal: null\n      }));\n    }\n  };\n\n  useEffect(() => {\n    if (valueMinDisplay && valueMaxDisplay) {\n      if (valueMinDisplay >= valueMaxDisplay) {\n        setError(true);\n        setErrorText(\"Min value is greater than Max value\");\n      } else {\n        setError(false);\n        setErrorText(\"\");\n      }\n    }\n  }, [valueMaxDisplay, valueMinDisplay]);\n\n  const allowNumbersOnly = e => {\n    let code = e.which ? e.which : e.keyCode;\n\n    if (code > 31 && (code < 48 || code > 57)) {\n      e.preventDefault();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.divBordersMinMax,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    className: classes.inputLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, \"Well Appraisal\"), /*#__PURE__*/React.createElement(NumberFormat, {\n    id: \"appraisalWellMin\",\n    value: valueMinDisplay,\n    onChange: handleChangeMin,\n    thousandSeparator: true,\n    customInput: TextField,\n    className: classes.input,\n    \"aria-labelledby\": \"range-number\",\n    type: \"text\",\n    label: \"Min\",\n    size: \"small\",\n    onKeyPress: e => allowNumbersOnly(e),\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: Number.MAX_SAFE_INTEGER - 1\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NumberFormat, {\n    id: \"appraisalWellMax\",\n    value: valueMaxDisplay,\n    onChange: handleChangeMax,\n    thousandSeparator: true,\n    customInput: TextField,\n    className: classes.input,\n    \"aria-labelledby\": \"range-number\",\n    type: \"text\",\n    label: \"Max\",\n    size: \"small\",\n    onKeyPress: e => allowNumbersOnly(e),\n    error: error,\n    helperText: errorText,\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: Number.MAX_SAFE_INTEGER\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/John Geliberte/Work/freelance/m1/src/components/Navigation/components/FilterWellAppraisal.js"],"names":["React","useState","useContext","useCallback","useEffect","makeStyles","TextField","NumberFormat","NavigationContext","FormLabel","useStyles","divBordersMinMax","display","padding","border","borderRadius","input","marginLeft","width","color","inputLabel","position","top","FilterWellAppraisal","classes","stateNav","setStateNav","valueMinDisplay","setValueMinDisplay","valueMaxDisplay","setValueMaxDisplay","error","setError","errorText","setErrorText","appraisalWell","setAppraisalWell","setFilter","filter","min","parseInt","max","console","log","filterWellAppraisal","recall","checkStateNav","length","recallMin","recallMax","handleChangeMin","event","target","value","replace","id","handleChangeMax","allowNumbersOnly","e","code","which","keyCode","preventDefault","inputProps","Number","MAX_SAFE_INTEGER"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useCallback, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport { NavigationContext } from \"../NavigationContext\";\r\nimport { FormLabel } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  divBordersMinMax: {\r\n    display: \"flow-root\",\r\n    padding: \"3.5px 15px 5.5px 15px\",\r\n    border: \"1px solid #C4C4C4\",\r\n    borderRadius: \"4px\",\r\n    \"&:hover\": {\r\n      border: \"1px solid black\",\r\n    },\r\n  },\r\n  input: {\r\n    marginLeft: \"30px\",\r\n    width: \"160px\",\r\n   // float: \"right\",\r\n    \"& input\": { color: \"#17AADD\" },\r\n  },\r\n  inputLabel: {\r\n    position: \"relative\",\r\n    top: \"11.5px\",\r\n  },\r\n});\r\n\r\nexport default function FilterWellAppraisal() {\r\n  const classes = useStyles();\r\n  const [stateNav, setStateNav] = useContext(NavigationContext);\r\n  const [valueMinDisplay, setValueMinDisplay] = useState(\"\");\r\n  const [valueMaxDisplay, setValueMaxDisplay] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [errorText, setErrorText] = useState(\"\");\r\n  const [appraisalWell, setAppraisalWell] = useState(\r\n    stateNav.appraisalWell ? stateNav.appraisalWell : []\r\n  );\r\n\r\n  const setFilter = useCallback(() => {\r\n    let filter;\r\n    let min = parseInt(valueMinDisplay);\r\n    let max = parseInt(valueMaxDisplay);\r\n\r\n    console.log(\"min\", min);\r\n    console.log(\"max\", max);\r\n    console.log(!min);\r\n    console.log(!max);\r\n    console.log(min < max);\r\n\r\n    if (!min && !max) {\r\n      filter = null;\r\n    }\r\n    if (!min && max) {\r\n      filter = [\"all\", [\"<=\", [\"get\", \"appraisalValueSum\"], max]];\r\n    } else if (min && !max) {\r\n      filter = [\"all\", [\">=\", [\"get\", \"appraisalValueSum\"], min]];\r\n    } else if (min && max) {\r\n      if (min < max) {\r\n        filter = [\r\n          \"all\",\r\n          [\">=\", [\"get\", \"appraisalValueSum\"], min],\r\n          [\"<=\", [\"get\", \"appraisalValueSum\"], max],\r\n        ];\r\n      }\r\n    } else {\r\n      filter = null;\r\n    }\r\n\r\n    console.log(\"filter\", filter);\r\n\r\n    setStateNav((stateNav) => ({\r\n      ...stateNav,\r\n      filterWellAppraisal: filter,\r\n    }));\r\n  }, [setStateNav, valueMaxDisplay, valueMinDisplay]);\r\n\r\n  useEffect(() => {\r\n    const recall = () => {\r\n      let checkStateNav = stateNav.filterWellAppraisal;\r\n      if (!valueMinDisplay && !valueMaxDisplay) {\r\n        if (checkStateNav && checkStateNav.length === 3) {\r\n          const recallMin = checkStateNav[1][2];\r\n          const recallMax = checkStateNav[2][2];\r\n          setValueMinDisplay(recallMin);\r\n          setValueMaxDisplay(recallMax);\r\n        }\r\n      }\r\n      if (!valueMaxDisplay) {\r\n        if (checkStateNav && checkStateNav[1][0] === \"<=\") {\r\n          const recallMax = checkStateNav[1][2];\r\n          setValueMaxDisplay(recallMax);\r\n        }\r\n      }\r\n      if (!valueMinDisplay) {\r\n        if (checkStateNav && checkStateNav[1][0] === \">=\") {\r\n          const recallMin = checkStateNav[1][2];\r\n          setValueMinDisplay(recallMin);\r\n        }\r\n      }\r\n    };\r\n    recall();\r\n    return () => {\r\n      recall();\r\n    };\r\n  }, [stateNav, valueMaxDisplay, valueMinDisplay]);\r\n\r\n  useEffect(() => {\r\n    if (stateNav.appraisalWell) {\r\n      setFilter();\r\n    }\r\n  }, [setFilter, stateNav.appraisalWell]);\r\n\r\n  const handleChangeMin = (event) => {\r\n    console.log(\"handle change min\");\r\n    setValueMinDisplay(event.target.value.replace(/,/g, \"\"));\r\n    setAppraisalWell(event.target.id);\r\n    console.log(event.target.value.replace(/,/g, \"\"));\r\n    console.log(event.target.id);\r\n\r\n    setStateNav((stateNav) => ({\r\n      ...stateNav,\r\n      appraisalWell: event.target.id,\r\n    }));\r\n    if (event.target.value === \"\") {\r\n      setStateNav((stateNav) => ({\r\n        ...stateNav,\r\n        filterWellAppraisal: null,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleChangeMax = (event) => {\r\n    setValueMaxDisplay(event.target.value.replace(/,/g, \"\"));\r\n    setAppraisalWell(event.target.id);\r\n    setStateNav((stateNav) => ({\r\n      ...stateNav,\r\n      appraisalWell: event.target.id,\r\n    }));\r\n    if (event.target.value === \"\") {\r\n      setStateNav((stateNav) => ({\r\n        ...stateNav,\r\n        filterWellAppraisal: null,\r\n      }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (valueMinDisplay && valueMaxDisplay) {\r\n      if (valueMinDisplay >= valueMaxDisplay) {\r\n        setError(true);\r\n        setErrorText(\"Min value is greater than Max value\");\r\n      } else {\r\n        setError(false);\r\n        setErrorText(\"\");\r\n      }\r\n    }\r\n  }, [valueMaxDisplay, valueMinDisplay]);\r\n\r\n  const allowNumbersOnly = (e) => {\r\n    let code = e.which ? e.which : e.keyCode;\r\n    if (code > 31 && (code < 48 || code > 57)) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.divBordersMinMax}>\r\n      <FormLabel className={classes.inputLabel}>Well Appraisal</FormLabel>\r\n\r\n      <NumberFormat\r\n        id=\"appraisalWellMin\"\r\n        value={valueMinDisplay}\r\n        onChange={handleChangeMin}\r\n        thousandSeparator={true}\r\n        customInput={TextField}\r\n        className={classes.input}\r\n        aria-labelledby=\"range-number\"\r\n        type=\"text\"\r\n        label=\"Min\"\r\n        size=\"small\"\r\n        onKeyPress={(e) => allowNumbersOnly(e)}\r\n        InputProps={{\r\n          inputProps: {\r\n            min: 0,\r\n            max: Number.MAX_SAFE_INTEGER - 1,\r\n          },\r\n        }}\r\n      />\r\n      <NumberFormat\r\n        id=\"appraisalWellMax\"\r\n        value={valueMaxDisplay}\r\n        onChange={handleChangeMax}\r\n        thousandSeparator={true}\r\n        customInput={TextField}\r\n        className={classes.input}\r\n        aria-labelledby=\"range-number\"\r\n        type=\"text\"\r\n        label=\"Max\"\r\n        size=\"small\"\r\n        onKeyPress={(e) => allowNumbersOnly(e)}\r\n        error={error}\r\n        helperText={errorText}\r\n        InputProps={{\r\n          inputProps: {\r\n            min: 0,\r\n            max: Number.MAX_SAFE_INTEGER,\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}